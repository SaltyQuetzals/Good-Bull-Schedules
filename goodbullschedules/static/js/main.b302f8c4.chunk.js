(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(65)},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(15),o=n.n(r),s=n(2),i=n(3),l=n(6),u=n(4),d=n(5),h=n(1),p=n(13),m=n.n(p),b=n(7),f=n.n(b),E=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement(f.a,{open:this.props.open},c.a.createElement(b.DialogTitle,null,"Add Course"),c.a.createElement(b.DialogContent,null),c.a.createElement(b.DialogFooter,null,c.a.createElement(b.DialogButton,{action:"dismiss"},"Dismiss"),c.a.createElement(b.DialogButton,{action:"accept",isDefault:!0},"Accept")))}}]),t}(a.Component),v=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement(f.a,{open:this.props.open},c.a.createElement(b.DialogTitle,null,"Add Schedule"),c.a.createElement(b.DialogContent,null),c.a.createElement(b.DialogFooter,null,c.a.createElement(b.DialogButton,{action:"dismiss"},"Dismiss"),c.a.createElement(b.DialogButton,{action:"accept",isDefault:!0},"Accept")))}}]),t}(a.Component),O=n(10),C=n.n(O),y=n(24),k=n.n(y),g=n(16),j=n.n(g),S=n(25),D=n.n(S),w=n(26),N="ADD_SECTION",_="REMOVE_SECTION",x="ADD_COURSE",I="REMOVE_COURSE",A="ADD_SCHEDULE",L="REMOVE_SCHEDULE",T="SELECT_SCHEDULE",H="LOAD_SCHEDULES";var R=n(9),B={A:"#00BCD4",B:"#A5D6A7",C:"#FFEE58",D:"#E57373",F:"#90A4AE",Q:"#D1C4E9"},U=function(e){var t=e.historical_performance;if(console.log(t),null===t.A)return c.a.createElement("div",null);var n=[],a=0;for(var r in B){var o=t[r];a+=o||0}for(var s in B){var i=t[s];i&&(console.log(i/a-.1),n.push(c.a.createElement("div",{key:s,style:{backgroundColor:B[s],width:"".concat((i/a*100-.1).toFixed(2),"%"),display:"inline-block",border:"1px solid white",boxSizing:"border-box",height:20}})))}return c.a.createElement("div",{style:{width:"40%",marginLeft:"auto"}},n)},M=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).checkboxClickHandler=n.checkboxClickHandler.bind(Object(h.a)(Object(h.a)(n))),n.isChecked=n.isChecked.bind(Object(h.a)(Object(h.a)(n))),n.checkboxClickHandler=n.checkboxClickHandler.bind(Object(h.a)(Object(h.a)(n))),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"isChecked",value:function(){return!!this.props.selectedCrns&&this.props.selectedCrns.has(this.props.section.crn)}},{key:"checkboxClickHandler",value:function(){this.isChecked()?this.props.removeSection(this.props.section.crn):this.props.addSection(this.props.section.crn)}},{key:"render",value:function(){var e=this.props.section,t=e.section_num,n=e.instructor,a=e.historical_performance;return c.a.createElement(O.ListItem,null,c.a.createElement(w.Checkbox,{initRipple:function(){},checked:this.isChecked(),onChange:this.checkboxClickHandler}),c.a.createElement(O.ListItemText,{primaryText:t,secondaryText:n}),c.a.createElement(O.ListItemGraphic,{graphic:c.a.createElement(U,{historical_performance:a})}))}}]),t}(c.a.Component),F=Object(R.b)(function(e){var t=new Set;if(e.currScheduleName){var n=e.schedules.get(e.currScheduleName);n&&(t=n.selectedCrns)}return{selectedCrns:t}},function(e){return{addSection:function(t){return e(function(e){return{type:N,payload:e}}(t))},removeSection:function(t){return e(function(e){return{type:_,payload:e}}(t))}}})(M),V=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={checked:!1,indeterminate:!1},n.handleDeleteClick=n.handleDeleteClick.bind(Object(h.a)(Object(h.a)(n))),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleDeleteClick",value:function(){this.props.removeCourse(this.props.dept,this.props.course_num)}},{key:"render",value:function(){var e=c.a.createElement(O.ListItem,{className:"course-list-item"},c.a.createElement(O.ListItemText,{primaryText:"".concat(this.props.dept,"-").concat(this.props.course_num),secondaryText:this.props.name}),c.a.createElement(O.ListItemMeta,{meta:c.a.createElement(k.a,{onClick:this.handleDeleteClick},c.a.createElement(j.a,{icon:"delete"}))}));return c.a.createElement(D.a,{trigger:e,transitionTime:250},c.a.createElement(C.a,{twoLine:!0,className:"course-sections"},this.props.sections.map(function(e,t){var n=e.section;return c.a.createElement(F,{key:t,section:n})})))}}]),t}(c.a.Component),J=Object(R.b)(null,function(e){return{removeCourse:function(t,n){return e(function(e,t){return{type:I,payload:{dept:e,course_num:t}}}(t,n))}}})(V),W=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=[];for(var t in console.log("IN COURSE LIST, COURSES =",this.props.courses),this.props.courses){var n=this.props.courses[t],a=n.dept,r=n.name,o=n.course_num,s=n.sections;console.log(a,o,r,s);var i=s.map(function(e){return{section:e}});e.push(c.a.createElement(J,{key:"".concat(a,"-").concat(o),name:r,dept:a,course_num:o,sections:i}))}return c.a.createElement(C.a,{twoLine:!0,avatarList:!0},e)}}]),t}(c.a.Component),z=Object(R.b)(function(e){var t={};if(e.currScheduleName){var n=e.schedules.get(e.currScheduleName);n&&(t=n.courses)}return{courses:t}})(W),G=n(28),Q=n.n(G),$=n(29),q=n.n($),K=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSelectionChange=n.handleSelectionChange.bind(Object(h.a)(Object(h.a)(n))),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.currScheduleName||this.props.scheduleNames.length>0&&this.props.selectSchedule(this.props.scheduleNames[0])}},{key:"handleSelectionChange",value:function(e){e.target?this.props.selectSchedule(e.target.value):console.log("Event target is undefined?")}},{key:"render",value:function(){return 0===this.props.scheduleNames.length?null:c.a.createElement(q.a,{className:"schedule-select",onChange:this.handleSelectionChange,options:this.props.scheduleNames})}}]),t}(c.a.Component),P=Object(R.b)(function(e){return{currScheduleName:e.currScheduleName}},function(e){return{selectSchedule:function(t){return e(function(e){return{type:T,payload:e}}(t))}}})(K),X=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={addCourseDialogIsOpen:!1,addScheduleDialogIsOpen:!1},n.handleClick=n.handleClick.bind(Object(h.a)(Object(h.a)(n))),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/schedules/").then(function(e){return e.json()}).then(function(t){e.props.loadSchedules(t)}).catch(function(e){return console.log(e)})}},{key:"handleClick",value:function(e){this.props.anySchedulesCreated?this.setState({addCourseDialogIsOpen:!0}):this.setState({addScheduleDialogIsOpen:!0})}},{key:"render",value:function(){var e=this.props,t=e.schedules,n=e.currScheduleName;t.get(n);return console.log("Rendering currSchedule"),c.a.createElement("div",{className:"drawer-container"},c.a.createElement(m.a,{className:"drawer"},c.a.createElement(p.DrawerHeader,null,c.a.createElement(P,{scheduleNames:Array.from(t.keys())})),c.a.createElement(p.DrawerContent,{className:"drawer-content"},c.a.createElement(z,null))),c.a.createElement(p.DrawerAppContent,{className:"drawer-app-content"},c.a.createElement(Q.a,{className:"fab",icon:c.a.createElement(j.a,{icon:"add"}),onClick:this.handleClick})),c.a.createElement(v,{open:this.state.addScheduleDialogIsOpen}),c.a.createElement(E,{open:this.state.addCourseDialogIsOpen}))}}]),t}(a.Component),Y=Object(R.b)(function(e){return{anySchedulesCreated:0!==Array.from(e.schedules.keys()).length,schedules:e.schedules,currScheduleName:e.currScheduleName}},function(e){return{loadSchedules:function(t){return e(function(e){return{type:H,payload:e}}(t))}}})(X);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=n(17),ee=n(31),te=n(30),ne={schedules:new Map,currScheduleName:void 0},ae=function(e){var t=e.split(":").map(function(e){return Number.parseInt(e)}),n=Object(te.a)(t,3);return n[0]*(60+n[1])+n[2]/60};n(55),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64);var ce=Object(Z.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0,n=Object(ee.a)({},e),a=n.currScheduleName;if(t.type===T&&(n.currScheduleName=t.payload),a){var c=n.schedules.get(a);if(c)switch(t.type){case N:c.selectedCrns.add(t.payload);break;case _:c.selectedCrns.delete(t.payload);break;case x:c.courses["".concat(t.payload.dept,"-").concat(t.payload.course_num)]=t.payload;break;case I:var r=t.payload,o=r.dept,s=r.course_num;delete c.courses["".concat(o,"-").concat(s)];break;case L:n.schedules.delete(t.payload)}else{if(t.type!==A)throw Error("The schedule attempting to be accessed does not exist.");var i={name:t.payload.name,term_code:t.payload.term_code,courses:{},selectedCrns:new Set};n.schedules.set(t.payload.name,i)}}else if(t.type===H)for(var l in console.log(t.payload),t.payload){var u=t.payload[l];for(var d in u.courses){var h=u.courses[d],p=!0,m=!1,b=void 0;try{for(var f,E=h.sections[Symbol.iterator]();!(p=(f=E.next()).done);p=!0){var v=f.value;v.start_time&&(v.start_time=ae(v.start_time)),v.end_time&&(v.end_time=ae(v.end_time))}}catch(O){m=!0,b=O}finally{try{p||null==E.return||E.return()}finally{if(m)throw b}}}u.selectedCrns=new Set(u.sections.map(function(e){return Number.parseInt(e.split("_")[0])})),delete u.sections,n.schedules.set(l,u)}return console.log(n),n});o.a.render(c.a.createElement(R.a,{store:ce},c.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.b302f8c4.chunk.js.map